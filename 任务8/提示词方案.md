# 任务8：前端开发提示词方案

## 📋 提示词方案概述

**制定依据**：基于"前端开发任务方案"和"项目框架"文档  
**轮次设计**：按任务完整性划分，确保每轮任务独立完成  
**质量保证**：每轮附带成果检查提示词，确保开发质量  
**文件管理**：明确文件分化和测试文件存放规划  

## 🎯 提示词轮次规划

### 第1轮：项目初始化和基础配置

#### 主要任务提示词
```
请帮我创建一个Vue.js 3.x的RBAC权限管理系统前端项目，具体要求如下：

**项目基础设置：**
1. 使用Vue 3.x + Vite创建项目，项目名称：rbac-frontend
2. 安装以下核心依赖：
   - vue@next, vue-router@4, pinia (核心框架)
   - element-plus, @element-plus/icons-vue (UI组件库)
   - axios, lodash, dayjs (工具库)

**目录结构创建：**
在src目录下创建以下标准化目录结构：
    src/
    ├── api/                    # API接口封装目录
    ├── components/             # 公共组件目录
    │   ├── layout/             # 布局组件
    │   ├── common/             # 通用组件
    │   └── business/           # 业务组件
    ├── views/                  # 页面组件目录
    │   ├── auth/               # 认证页面
    │   ├── user/               # 用户管理页面
    │   ├── role/               # 角色管理页面
    │   ├── permission/         # 权限管理页面
    │   └── dashboard/          # 仪表板页面
    ├── router/                 # 路由配置目录
    ├── store/                  # 状态管理目录
    │   └── modules/            # 状态模块
    ├── utils/                  # 工具函数目录
    ├── styles/                 # 样式文件目录
    ├── App.vue                 # 根组件
    └── main.js                 # 入口文件

**基础配置文件：**
1. 配置main.js：集成Vue Router、Pinia、Element Plus
2. 配置vite.config.js：设置路径别名、代理配置
3. 创建基础样式文件：src/styles/variables.scss, common.scss
4. 创建.env文件：配置API基础URL为http://localhost:8000

**验证要求：**
- 项目能够正常启动 (npm run dev)
- Element Plus组件能够正常使用
- 热更新功能正常工作
- 构建功能正常 (npm run build)

请提供完整的文件内容和配置代码。
```

#### 成果检查提示词
```
请检查第1轮项目初始化的成果，确保以下内容完整正确：

**项目结构检查：**
1. 验证package.json中的依赖是否完整安装
2. 检查src目录结构是否按要求创建完整
3. 确认所有必要的配置文件是否存在

**功能验证：**
1. 检查项目是否能正常启动 (npm run dev)
2. 验证Element Plus是否正确集成
3. 测试热更新功能是否正常
4. 确认构建功能是否正常 (npm run build)

**测试文件规划：**
在项目根目录创建tests目录结构：
    tests/
    ├── unit/                   # 单元测试文件
    │   ├── components/         # 组件测试
    │   ├── utils/              # 工具函数测试
    │   └── store/              # 状态管理测试
    ├── integration/            # 集成测试文件
    │   ├── api/                # API集成测试
    │   ├── pages/              # 页面集成测试
    │   └── workflows/          # 业务流程测试
    ├── e2e/                    # 端到端测试文件
    └── fixtures/               # 测试数据文件

**问题排查：**
如发现问题，请提供具体的修复方案和代码。确保第1轮成果完全正确后再进行第2轮开发。
```

### 第2轮：HTTP客户端和API接口封装

#### 主要任务提示词
```
基于已完成的项目基础，请完成HTTP客户端配置和API接口封装，对接后端RBAC系统的18个API接口：

**HTTP客户端配置 (src/api/request.js)：**
1. 使用axios创建HTTP客户端实例
2. 配置基础URL：http://localhost:8000
3. 设置请求超时：10秒
4. 实现请求拦截器：
   - 自动添加JWT Bearer Token到Authorization头
   - 从localStorage获取access_token
5. 实现响应拦截器：
   - 统一处理成功响应 (返回data字段)
   - 统一错误处理 (显示错误消息)
   - 401状态码自动刷新令牌
   - 刷新失败自动跳转登录页

**认证API封装 (src/api/auth.js)：**
封装5个认证相关接口：
1. login(data) - POST /api/v1/auth/login
2. logout() - POST /api/v1/auth/logout  
3. refreshToken(data) - POST /api/v1/auth/refresh
4. getCurrentUser() - GET /api/v1/auth/me
5. changePassword(data) - PUT /api/v1/auth/password

**用户管理API封装 (src/api/user.js)：**
封装5个用户管理接口：
1. getUsers(params) - GET /api/v1/users (支持分页、搜索)
2. getUser(id) - GET /api/v1/users/{id}
3. createUser(data) - POST /api/v1/users
4. updateUser(id, data) - PUT /api/v1/users/{id}
5. deleteUser(id) - DELETE /api/v1/users/{id}

**角色管理API封装 (src/api/role.js)：**
封装4个角色管理接口：
1. getRoles(params) - GET /api/v1/roles
2. getRole(id) - GET /api/v1/roles/{id}
3. createRole(data) - POST /api/v1/roles
4. assignPermissions(id, data) - POST /api/v1/roles/{id}/permissions

**权限管理API封装 (src/api/permission.js)：**
封装4个权限管理接口：
1. getPermissionTree(params) - GET /api/v1/permissions/tree
2. getPermissions(params) - GET /api/v1/permissions
3. getResourceTypes() - GET /api/v1/permissions/resource-types
4. checkPermissions(data) - POST /api/v1/permissions/check

**统一导出 (src/api/index.js)：**
创建统一的API导出文件，方便组件中使用。

请提供所有API封装文件的完整代码，确保错误处理完善，支持Promise和async/await语法。
```

#### 成果检查提示词
```
请检查第2轮API接口封装的成果，确保以下内容完整正确：

**API文件检查：**
1. 验证src/api/request.js的HTTP客户端配置是否完整
2. 检查认证API (auth.js) 5个接口是否正确封装
3. 检查用户API (user.js) 5个接口是否正确封装
4. 检查角色API (role.js) 4个接口是否正确封装
5. 检查权限API (permission.js) 4个接口是否正确封装
6. 验证统一导出文件 (index.js) 是否正确

**功能验证：**
1. 测试HTTP客户端是否能正常发送请求
2. 验证请求拦截器是否正确添加认证头
3. 测试响应拦截器是否正确处理响应和错误
4. 确认所有API方法是否返回Promise对象

**测试文件创建：**
在tests/unit/api/目录下创建API测试文件：
    tests/unit/api/
    ├── request.test.js         # HTTP客户端测试
    ├── auth.test.js            # 认证API测试
    ├── user.test.js            # 用户API测试
    ├── role.test.js            # 角色API测试
    └── permission.test.js      # 权限API测试

**问题排查：**
1. 检查API接口路径是否与后端Swagger文档一致
2. 验证请求参数格式是否正确
3. 确认错误处理逻辑是否完善
4. 测试令牌刷新机制是否正常工作

如发现问题，请提供具体的修复代码。确保所有API接口封装正确后再进行第3轮开发。
```

### 第3轮：路由系统和状态管理

#### 主要任务提示词
```
基于已完成的API接口封装，请完成路由系统和状态管理的开发：

**路由配置 (src/router/index.js)：**
1. 配置Vue Router 4，使用history模式
2. 定义以下路由结构：
    /                           # 重定向到/dashboard
    /login                      # 登录页面 (无需认证)
    /dashboard                  # 仪表板 (需要认证)
    /users                      # 用户管理
      /users/list               # 用户列表
      /users/detail/:id         # 用户详情
    /roles                      # 角色管理
      /roles/list               # 角色列表
      /roles/detail/:id         # 角色详情
    /permissions                # 权限管理
      /permissions/tree         # 权限树
      /permissions/list         # 权限列表
    /profile                    # 个人中心

**路由守卫 (src/router/guards.js)：**
1. 实现beforeEach全局前置守卫：
   - 检查用户登录状态 (从localStorage获取token)
   - 未登录用户重定向到/login
   - 已登录用户访问/login重定向到/dashboard
2. 实现权限检查逻辑 (基于用户角色)

**用户状态管理 (src/store/modules/user.js)：**
使用Pinia创建用户状态模块：
1. State: user(用户信息), token(访问令牌), refreshToken(刷新令牌), permissions(权限列表)
2. Getters: isLoggedIn(登录状态), hasPermission(权限检查)
3. Actions: 
   - login(credentials) - 用户登录
   - logout() - 用户登出
   - refreshToken() - 刷新令牌
   - getCurrentUser() - 获取当前用户信息
   - checkPermissions(codes) - 检查权限

**应用状态管理 (src/store/modules/app.js)：**
创建应用状态模块：
1. State: sidebarCollapsed(侧边栏状态), theme(主题), loading(全局加载状态)
2. Actions: toggleSidebar(), setTheme(), setLoading()

**状态持久化：**
1. 用户token信息持久化到localStorage
2. 应用设置持久化到localStorage
3. 页面刷新时自动恢复状态

**状态管理入口 (src/store/index.js)：**
配置Pinia，注册所有状态模块。

请提供完整的路由和状态管理代码，确保类型安全和错误处理。
```

#### 成果检查提示词
```
请检查第3轮路由系统和状态管理的成果：

**路由系统检查：**
1. 验证路由配置是否完整，所有页面路由是否正确定义
2. 检查路由守卫是否正确实现认证检查
3. 测试路由跳转是否正常工作
4. 确认权限检查逻辑是否正确

**状态管理检查：**
1. 验证用户状态模块是否完整 (state, getters, actions)
2. 检查应用状态模块是否正确实现
3. 测试状态持久化是否正常工作
4. 确认状态更新和响应是否正确

**集成测试：**
1. 测试登录流程：登录 -> 状态更新 -> 路由跳转
2. 测试登出流程：登出 -> 状态清理 -> 跳转登录页
3. 测试页面刷新：状态恢复 -> 路由守卫检查
4. 测试权限检查：权限验证 -> 页面访问控制

**测试文件创建：**
在tests目录下创建相关测试文件：
    tests/unit/router/
    ├── index.test.js           # 路由配置测试
    └── guards.test.js          # 路由守卫测试

    tests/unit/store/
    ├── user.test.js            # 用户状态测试
    └── app.test.js             # 应用状态测试

    tests/integration/
    ├── auth-flow.test.js       # 认证流程集成测试
    └── navigation.test.js      # 导航集成测试

**问题排查：**
1. 检查路由配置语法是否正确
2. 验证状态管理是否正确集成到Vue应用
3. 测试localStorage操作是否正常
4. 确认路由守卫逻辑是否符合业务需求

如发现问题，请提供修复方案。确保路由和状态管理完全正确后再进行第4轮开发。
```

### 第4轮：布局组件和通用组件开发

#### 主要任务提示词
```
基于已完成的路由和状态管理，请开发布局组件和通用组件：

**主布局组件 (src/components/layout/MainLayout.vue)：**
1. 使用Element Plus的Container布局组件
2. 实现响应式布局：
   - 桌面端：侧边栏 + 主内容区
   - 移动端：可折叠侧边栏
3. 包含Header、Sidebar、Main三个区域
4. 支持侧边栏折叠/展开功能
5. 集成面包屑导航

**头部组件 (src/components/layout/Header.vue)：**
1. 显示系统标题和Logo
2. 用户信息下拉菜单：
   - 显示用户头像、昵称
   - 个人中心链接
   - 修改密码链接
   - 登出按钮
3. 侧边栏折叠按钮
4. 主题切换按钮 (可选)

**侧边栏组件 (src/components/layout/Sidebar.vue)：**
1. 使用Element Plus的Menu组件
2. 根据用户权限动态显示菜单项：
   - 仪表板
   - 用户管理 (需要user权限)
   - 角色管理 (需要role权限)  
   - 权限管理 (需要permission权限)
3. 支持菜单折叠状态
4. 高亮当前激活菜单项

**面包屑组件 (src/components/layout/Breadcrumb.vue)：**
1. 根据当前路由自动生成面包屑
2. 支持点击跳转到上级页面
3. 显示页面层级关系

**通用表格组件 (src/components/common/DataTable.vue)：**
1. 基于Element Plus的Table组件封装
2. 支持功能：
   - 分页 (page, size参数)
   - 搜索 (search参数)
   - 排序 (可选)
   - 操作列 (编辑、删除等按钮)
3. 支持自定义列配置
4. 集成加载状态和空数据状态

**通用对话框组件 (src/components/common/FormDialog.vue)：**
1. 基于Element Plus的Dialog组件封装
2. 支持表单验证
3. 统一的确认/取消按钮
4. 支持加载状态
5. 可配置对话框标题和大小

**通用确认对话框 (src/components/common/ConfirmDialog.vue)：**
1. 用于删除等危险操作的确认
2. 可自定义确认文本和按钮文字
3. 返回Promise结果

请提供所有组件的完整代码，确保组件可复用性和响应式设计。
```

#### 成果检查提示词
```
请检查第4轮布局组件和通用组件的开发成果：

**布局组件检查：**
1. 验证MainLayout组件是否正确实现响应式布局
2. 检查Header组件的用户菜单功能是否完整
3. 测试Sidebar组件的权限控制和菜单显示
4. 确认Breadcrumb组件是否正确生成面包屑

**通用组件检查：**
1. 验证DataTable组件的分页、搜索功能
2. 检查FormDialog组件的表单验证功能
3. 测试ConfirmDialog组件的确认流程
4. 确认所有组件的props和events定义

**响应式测试：**
1. 测试不同屏幕尺寸下的布局表现
2. 验证移动端的侧边栏折叠功能
3. 检查组件在不同设备上的显示效果

**组件集成测试：**
1. 测试布局组件之间的协调工作
2. 验证通用组件在不同页面中的使用
3. 检查组件的事件传递和状态同步

**测试文件创建：**
    tests/unit/components/
    ├── layout/
    │   ├── MainLayout.test.js  # 主布局测试
    │   ├── Header.test.js      # 头部组件测试
    │   ├── Sidebar.test.js     # 侧边栏测试
    │   └── Breadcrumb.test.js  # 面包屑测试
    └── common/
        ├── DataTable.test.js   # 表格组件测试
        ├── FormDialog.test.js  # 表单对话框测试
        └── ConfirmDialog.test.js # 确认对话框测试

**问题排查：**
1. 检查组件的props类型定义是否正确
2. 验证组件的样式是否符合设计要求
3. 测试组件的事件处理是否正常
4. 确认组件的可访问性 (a11y) 是否良好

如发现问题，请提供修复代码。确保所有布局和通用组件完全正确后再进行第5轮开发。
```

### 第5轮：认证页面开发

#### 主要任务提示词
```
基于已完成的布局组件，请开发认证相关页面：

**登录页面 (src/views/auth/Login.vue)：**
1. 页面布局：
   - 居中的登录卡片
   - 系统Logo和标题
   - 登录表单区域
2. 登录表单：
   - 用户名输入框 (必填，用户名或邮箱)
   - 密码输入框 (必填，支持显示/隐藏密码)
   - 记住登录状态复选框
   - 登录按钮 (支持加载状态)
3. 表单验证：
   - 用户名不能为空
   - 密码不能为空，最少6位
   - 实时验证和错误提示
4. 登录逻辑：
   - 调用auth API的login接口
   - 成功后保存token到store和localStorage
   - 跳转到dashboard页面
   - 失败时显示错误消息

**密码修改页面 (src/views/auth/ChangePassword.vue)：**
1. 页面布局：
   - 使用MainLayout布局
   - 卡片式表单容器
2. 密码修改表单：
   - 原密码输入框 (必填)
   - 新密码输入框 (必填，密码强度提示)
   - 确认新密码输入框 (必填，与新密码一致)
   - 提交按钮和取消按钮
3. 表单验证：
   - 原密码不能为空
   - 新密码强度检查 (至少8位，包含字母和数字)
   - 确认密码必须与新密码一致
4. 修改逻辑：
   - 调用auth API的changePassword接口
   - 成功后显示成功消息
   - 失败时显示具体错误信息

**工具函数 (src/utils/auth.js)：**
1. 密码强度检查函数
2. 表单验证规则
3. 登录状态检查函数
4. 令牌有效性验证

**样式文件 (src/styles/auth.scss)：**
1. 登录页面专用样式
2. 响应式设计适配
3. 表单美化样式

请提供完整的认证页面代码，确保用户体验良好，表单验证完善。
```

#### 成果检查提示词
```
请检查第5轮认证页面开发的成果：

**登录页面检查：**
1. 验证页面布局是否美观，响应式设计是否正确
2. 检查登录表单的所有验证规则是否正确
3. 测试登录流程：输入 -> 验证 -> 提交 -> 跳转
4. 确认错误处理和用户提示是否完善

**密码修改页面检查：**
1. 验证页面是否正确使用MainLayout布局
2. 检查密码强度验证是否正确实现
3. 测试密码修改流程的完整性
4. 确认表单重置和取消功能

**功能集成测试：**
1. 测试登录成功后的状态更新和页面跳转
2. 验证登录失败时的错误处理
3. 测试密码修改成功/失败的反馈
4. 检查页面刷新后的状态保持

**用户体验测试：**
1. 测试表单的交互体验 (焦点、回车提交等)
2. 验证加载状态的显示效果
3. 检查错误消息的显示位置和样式
4. 测试移动端的适配效果

**测试文件创建：**
    tests/unit/views/auth/
    ├── Login.test.js           # 登录页面测试
    └── ChangePassword.test.js  # 密码修改页面测试

    tests/unit/utils/
    └── auth.test.js            # 认证工具函数测试

    tests/integration/auth/
    ├── login-flow.test.js      # 登录流程集成测试
    └── password-change.test.js # 密码修改集成测试

**问题排查：**
1. 检查API调用是否正确，参数格式是否匹配
2. 验证表单验证规则是否符合后端要求
3. 测试路由跳转逻辑是否正确
4. 确认状态管理的更新是否正常

如发现问题，请提供修复代码。确保认证页面功能完全正确后再进行第6轮开发。
```

### 第6轮：用户管理页面开发

#### 主要任务提示词
```
基于已完成的布局和认证页面，请开发用户管理相关页面：

**用户列表页面 (src/views/user/UserList.vue)：**
1. 页面布局：
   - 使用MainLayout布局
   - 顶部搜索和操作区域
   - 主体数据表格区域
   - 底部分页区域
2. 搜索功能：
   - 关键词搜索框 (搜索用户名、邮箱、昵称)
   - 状态过滤下拉框 (全部、启用、禁用)
   - 搜索按钮和重置按钮
3. 操作功能：
   - 新增用户按钮 (打开用户编辑对话框)
   - 批量操作 (批量启用/禁用，可选)
4. 数据表格：
   - 使用DataTable通用组件
   - 显示字段：ID、用户名、邮箱、昵称、状态、创建时间
   - 操作列：查看详情、编辑、删除按钮
5. 分页功能：
   - 使用Element Plus的Pagination组件
   - 支持页码跳转和每页数量选择

**用户详情页面 (src/views/user/UserDetail.vue)：**
1. 页面布局：
   - 使用MainLayout布局
   - 用户基本信息卡片
   - 角色信息卡片
   - 权限信息卡片
2. 用户信息展示：
   - 头像、用户名、邮箱、昵称
   - 手机号、状态、创建时间、最后登录时间
3. 角色信息：
   - 已分配角色列表
   - 角色分配/取消功能
4. 权限信息：
   - 通过角色获得的权限列表
   - 权限来源显示

**用户编辑对话框 (src/views/user/UserEdit.vue)：**
1. 对话框布局：
   - 使用FormDialog通用组件
   - 支持新增和编辑两种模式
2. 表单字段：
   - 用户名 (必填，新增时可编辑，编辑时只读)
   - 邮箱 (必填，邮箱格式验证)
   - 昵称 (必填)
   - 手机号 (可选，手机号格式验证)
   - 密码 (新增时必填，编辑时可选)
   - 状态 (启用/禁用)
3. 表单验证：
   - 用户名唯一性验证
   - 邮箱格式和唯一性验证
   - 密码强度验证
4. 提交逻辑：
   - 新增：调用createUser API
   - 编辑：调用updateUser API
   - 成功后刷新列表，关闭对话框

**角色分配对话框 (src/views/user/RoleAssign.vue)：**
1. 对话框布局：
   - 显示用户基本信息
   - 可选角色列表 (复选框)
   - 确认和取消按钮
2. 角色选择：
   - 显示所有可用角色
   - 标记用户当前已有角色
   - 支持多选操作
3. 提交逻辑：
   - 调用用户角色分配API
   - 成功后更新用户详情

请提供完整的用户管理页面代码，确保CRUD操作完整，用户体验良好。
```

#### 成果检查提示词
```
请检查第6轮用户管理页面开发的成果：

**用户列表页面检查：**
1. 验证搜索功能是否正确工作 (关键词、状态过滤)
2. 检查数据表格的显示和分页功能
3. 测试新增、编辑、删除操作的完整流程
4. 确认数据刷新和状态更新是否正确

**用户详情页面检查：**
1. 验证用户信息展示是否完整
2. 检查角色和权限信息的显示
3. 测试角色分配功能是否正常
4. 确认页面导航和返回功能

**用户编辑功能检查：**
1. 验证表单验证规则是否正确
2. 检查新增和编辑模式的区别处理
3. 测试表单提交和数据更新
4. 确认错误处理和用户反馈

**数据流测试：**
1. 测试列表 -> 详情 -> 编辑的完整流程
2. 验证数据的实时更新和同步
3. 检查API调用的参数和响应处理
4. 测试并发操作的处理

**测试文件创建：**
    tests/unit/views/user/
    ├── UserList.test.js        # 用户列表页面测试
    ├── UserDetail.test.js      # 用户详情页面测试
    ├── UserEdit.test.js        # 用户编辑对话框测试
    └── RoleAssign.test.js      # 角色分配对话框测试

    tests/integration/user/
    ├── user-crud.test.js       # 用户CRUD集成测试
    ├── user-search.test.js     # 用户搜索集成测试
    └── role-assign.test.js     # 角色分配集成测试

**问题排查：**
1. 检查API调用参数是否与后端接口匹配
2. 验证表单验证规则是否符合业务要求
3. 测试分页和搜索的参数传递
4. 确认权限控制是否正确实现

如发现问题，请提供修复代码。确保用户管理功能完全正确后再进行第7轮开发。
```

### 第7轮：角色管理页面开发

#### 主要任务提示词
```
基于已完成的用户管理页面，请开发角色管理相关页面：

**角色列表页面 (src/views/role/RoleList.vue)：**
1. 页面布局：
   - 使用MainLayout布局
   - 顶部搜索和操作区域
   - 主体数据表格区域
   - 底部分页区域
2. 搜索功能：
   - 角色名称搜索框
   - 角色代码搜索框
   - 状态过滤下拉框
3. 操作功能：
   - 新增角色按钮
   - 批量操作 (可选)
4. 数据表格：
   - 显示字段：ID、角色名称、角色代码、描述、用户数量、权限数量、状态、创建时间
   - 操作列：查看详情、编辑、权限分配、删除按钮

**角色详情页面 (src/views/role/RoleDetail.vue)：**
1. 页面布局：
   - 角色基本信息卡片
   - 权限信息卡片
   - 关联用户卡片
2. 角色信息展示：
   - 角色名称、代码、描述、状态
   - 创建时间、更新时间
   - 用户数量、权限数量统计
3. 权限信息：
   - 已分配权限树形展示
   - 权限分配/取消功能
4. 关联用户：
   - 拥有该角色的用户列表
   - 用户基本信息展示

**角色编辑对话框 (src/views/role/RoleEdit.vue)：**
1. 对话框布局：
   - 使用FormDialog通用组件
   - 支持新增和编辑模式
2. 表单字段：
   - 角色名称 (必填)
   - 角色代码 (必填，英文字母和下划线)
   - 角色描述 (可选)
   - 状态 (启用/禁用)
3. 表单验证：
   - 角色名称不能为空
   - 角色代码格式验证和唯一性验证
   - 描述长度限制
4. 提交逻辑：
   - 新增：调用createRole API
   - 编辑：调用updateRole API

**权限分配对话框 (src/views/role/PermissionAssign.vue)：**
1. 对话框布局：
   - 显示角色基本信息
   - 权限树形选择器
   - 确认和取消按钮
2. 权限选择：
   - 使用Element Plus的Tree组件
   - 显示完整权限树结构
   - 支持父子节点关联选择
   - 标记角色当前已有权限
3. 权限展示：
   - 按资源类型分组显示
   - 显示权限名称和代码
   - 支持搜索和过滤
4. 提交逻辑：
   - 调用assignPermissions API
   - 传递权限ID列表
   - 成功后更新角色详情

请提供完整的角色管理页面代码，确保权限分配功能完善，树形结构展示清晰。
```

#### 成果检查提示词
```
请检查第7轮角色管理页面开发的成果：

**角色列表页面检查：**
1. 验证搜索功能 (角色名称、代码、状态)
2. 检查数据表格的统计信息显示 (用户数量、权限数量)
3. 测试角色CRUD操作的完整流程
4. 确认分页和数据刷新功能

**角色详情页面检查：**
1. 验证角色信息的完整展示
2. 检查权限树形结构的显示
3. 测试关联用户列表的展示
4. 确认页面导航和操作按钮

**权限分配功能检查：**
1. 验证权限树的正确加载和显示
2. 检查父子节点的关联选择逻辑
3. 测试权限分配的提交和更新
4. 确认权限搜索和过滤功能

**业务逻辑测试：**
1. 测试角色创建后的权限分配
2. 验证角色删除时的关联检查
3. 检查权限变更对用户的影响
4. 测试角色状态变更的处理

**测试文件创建：**
    tests/unit/views/role/
    ├── RoleList.test.js        # 角色列表页面测试
    ├── RoleDetail.test.js      # 角色详情页面测试
    ├── RoleEdit.test.js        # 角色编辑对话框测试
    └── PermissionAssign.test.js # 权限分配对话框测试

    tests/integration/role/
    ├── role-crud.test.js       # 角色CRUD集成测试
    ├── permission-assign.test.js # 权限分配集成测试
    └── role-user-relation.test.js # 角色用户关系测试

**问题排查：**
1. 检查权限树数据结构是否正确处理
2. 验证权限分配API的参数格式
3. 测试树形组件的选择状态同步
4. 确认角色权限的实时更新

如发现问题，请提供修复代码。确保角色管理功能完全正确后再进行第8轮开发。
```

### 第8轮：权限管理和仪表板页面开发

#### 主要任务提示词
```
基于已完成的角色管理页面，请开发权限管理和仪表板页面：

**权限树页面 (src/views/permission/PermissionTree.vue)：**
1. 页面布局：
   - 使用MainLayout布局
   - 左侧权限树区域
   - 右侧权限详情区域
2. 权限树功能：
   - 使用Element Plus的Tree组件
   - 显示完整权限层级结构
   - 支持展开/折叠节点
   - 支持搜索过滤功能
   - 点击节点显示详情
3. 权限详情：
   - 显示选中权限的详细信息
   - 权限名称、代码、资源类型、描述
   - 父权限和子权限信息
   - 关联角色列表

**权限列表页面 (src/views/permission/PermissionList.vue)：**
1. 页面布局：
   - 顶部搜索和过滤区域
   - 主体数据表格区域
   - 底部分页区域
2. 搜索功能：
   - 权限名称搜索
   - 权限代码搜索
   - 资源类型过滤
   - 状态过滤
3. 数据表格：
   - 显示字段：ID、权限名称、权限代码、资源类型、父权限、状态、创建时间
   - 操作列：查看详情按钮

**仪表板页面 (src/views/dashboard/Dashboard.vue)：**
1. 页面布局：
   - 使用MainLayout布局
   - 统计卡片区域
   - 图表展示区域
   - 快捷操作区域
2. 统计卡片：
   - 用户总数 (调用用户列表API获取总数)
   - 角色总数 (调用角色列表API获取总数)
   - 权限总数 (调用权限列表API获取总数)
   - 在线用户数 (模拟数据)
3. 图表展示：
   - 用户状态分布饼图 (启用/禁用用户数量)
   - 角色权限分布柱状图 (各角色的权限数量)
   - 最近登录趋势图 (可选，使用模拟数据)
4. 快捷操作：
   - 新增用户按钮
   - 新增角色按钮
   - 系统设置按钮
   - 个人中心按钮

**个人中心页面 (src/views/profile/Profile.vue)：**
1. 页面布局：
   - 个人信息卡片
   - 密码修改卡片
   - 登录历史卡片 (可选)
2. 个人信息：
   - 显示当前用户信息
   - 支持编辑昵称、手机号等
   - 头像上传功能 (可选)
3. 密码修改：
   - 嵌入ChangePassword组件
   - 或跳转到密码修改页面
4. 登录历史：
   - 显示最近登录记录 (模拟数据)
   - 登录时间、IP地址、设备信息

请提供完整的页面代码，确保数据展示清晰，用户体验良好。
```

#### 成果检查提示词
```
请检查第8轮权限管理和仪表板页面开发的成果：

**权限管理页面检查：**
1. 验证权限树的正确加载和展示
2. 检查权限搜索和过滤功能
3. 测试权限详情的显示和切换
4. 确认权限列表的分页和排序

**仪表板页面检查：**
1. 验证统计数据的正确获取和显示
2. 检查图表组件的渲染和数据绑定
3. 测试快捷操作按钮的跳转功能
4. 确认页面的响应式布局

**个人中心页面检查：**
1. 验证个人信息的显示和编辑
2. 检查密码修改功能的集成
3. 测试信息更新的提交和反馈
4. 确认页面的安全性和权限控制

**数据集成测试：**
1. 测试API数据的正确获取和处理
2. 验证统计数据的实时性和准确性
3. 检查页面间的数据一致性
4. 测试错误状态的处理和显示

**测试文件创建：**
    tests/unit/views/permission/
    ├── PermissionTree.test.js  # 权限树页面测试
    └── PermissionList.test.js  # 权限列表页面测试

    tests/unit/views/dashboard/
    └── Dashboard.test.js       # 仪表板页面测试

    tests/unit/views/profile/
    └── Profile.test.js         # 个人中心页面测试

    tests/integration/dashboard/
    ├── statistics.test.js      # 统计数据集成测试
    └── charts.test.js          # 图表组件集成测试

**问题排查：**
1. 检查权限树数据的层级结构处理
2. 验证统计API的调用和数据处理
3. 测试图表组件的数据绑定和更新
4. 确认个人信息的安全更新机制

如发现问题，请提供修复代码。确保所有页面功能完全正确后再进行第9轮开发。
```

### 第9轮：全面测试和问题修复

#### 主要任务提示词
```
基于已完成的所有页面开发，请进行全面测试和问题修复：

**功能完整性测试：**
1. 完整业务流程测试：
   - 登录 -> 仪表板 -> 用户管理 -> 角色管理 -> 权限管理 -> 个人中心 -> 登出
   - 用户CRUD完整流程：创建 -> 查看 -> 编辑 -> 分配角色 -> 删除
   - 角色CRUD完整流程：创建 -> 查看 -> 编辑 -> 分配权限 -> 删除
2. API接口对接测试：
   - 验证所有18个API接口的调用
   - 测试请求参数的正确性
   - 验证响应数据的处理
   - 测试错误状态的处理

**用户体验测试：**
1. 界面交互测试：
   - 表单验证和提交流程
   - 对话框的打开和关闭
   - 数据表格的操作和刷新
   - 页面导航和面包屑
2. 响应式设计测试：
   - 桌面端 (1920x1080, 1366x768)
   - 平板端 (768x1024)
   - 移动端 (375x667)
3. 加载状态和反馈：
   - API调用的加载状态
   - 操作成功/失败的提示
   - 空数据状态的显示
   - 网络错误的处理

**性能和安全测试：**
1. 性能测试：
   - 页面加载速度
   - 大数据量的处理
   - 内存使用情况
   - 网络请求优化
2. 安全测试：
   - 权限控制的有效性
   - 敏感信息的保护
   - XSS和CSRF防护
   - 输入验证的完整性

**兼容性测试：**
1. 浏览器兼容性：
   - Chrome (最新版本)
   - Firefox (最新版本)
   - Safari (最新版本)
   - Edge (最新版本)
2. 设备兼容性：
   - Windows PC
   - Mac
   - iOS设备
   - Android设备

**问题修复和优化：**
1. 根据测试结果修复发现的问题
2. 优化用户体验和界面细节
3. 改进错误处理和用户提示
4. 优化性能和加载速度

请提供详细的测试报告和修复方案。
```

#### 成果检查提示词
```
请检查第9轮全面测试和问题修复的成果：

**测试执行验证：**
1. 确认所有功能测试用例都已执行
2. 验证API接口测试的覆盖率
3. 检查用户体验测试的完整性
4. 确认兼容性测试的范围

**问题修复验证：**
1. 验证所有发现的问题都已修复
2. 检查修复方案的有效性
3. 测试修复后的功能稳定性
4. 确认没有引入新的问题

**性能优化验证：**
1. 测试页面加载速度的改进
2. 验证内存使用的优化
3. 检查网络请求的优化效果
4. 确认用户体验的提升

**最终质量检查：**
1. 所有核心功能正常工作
2. 用户界面美观且易用
3. 错误处理完善且友好
4. 性能表现符合要求

**测试文档整理：**
    tests/reports/
    ├── functional-test-report.md    # 功能测试报告
    ├── ui-ux-test-report.md        # 用户体验测试报告
    ├── performance-test-report.md   # 性能测试报告
    ├── compatibility-test-report.md # 兼容性测试报告
    ├── security-test-report.md     # 安全测试报告
    └── bug-fix-report.md           # 问题修复报告

**最终验收标准：**
1. 所有18个API接口正确对接
2. 完整的用户操作流程无障碍
3. 响应式设计在各设备正常显示
4. 错误处理和用户提示完善
5. 性能表现达到预期要求

如仍有问题，请继续修复直到达到验收标准。确保系统完全可用后进行第10轮打包交付。
```

### 第10轮：项目打包和交付准备

#### 主要任务提示词
```
基于已完成的全面测试和修复，请进行项目打包和交付准备：

**生产构建：**
1. 环境配置：
   - 配置生产环境变量
   - 优化构建配置
   - 设置代码压缩和混淆
2. 构建执行：
   - 运行 npm run build
   - 验证构建结果
   - 测试构建产物的运行

**代码质量检查：**
1. 代码规范检查：
   - ESLint规则检查
   - 代码格式化验证
   - 注释完整性检查
2. 代码优化：
   - 移除未使用的代码
   - 优化导入和依赖
   - 清理调试代码

**文档整理：**
1. 项目说明文档 (README.md)：
   - 项目介绍和功能特性
   - 技术栈和依赖说明
   - 安装和运行指南
   - 项目结构说明
2. 部署指南 (DEPLOYMENT.md)：
   - 环境要求
   - 部署步骤
   - 配置说明
   - 常见问题解决
3. 开发指南 (DEVELOPMENT.md)：
   - 开发环境搭建
   - 代码规范
   - 贡献指南
   - API使用说明

**功能截图制作：**
1. 登录页面截图 (高清，展示完整界面)
2. 仪表板页面截图 (展示统计数据和图表)
3. 用户管理页面截图 (展示列表和操作功能)
4. 角色管理页面截图 (展示角色列表和权限分配)
5. 权限管理页面截图 (展示权限树和详情)
6. 个人中心页面截图 (展示个人信息管理)
7. 移动端适配截图 (展示响应式效果)

**提示词记录整理：**
1. 收集开发过程中使用的主要提示词
2. 按功能模块分类整理
3. 记录关键的AI辅助开发经验
4. 整理成提示词使用报告

**项目打包：**
1. 源代码打包：
   - 完整的项目源代码
   - 排除node_modules和构建产物
   - 包含所有配置文件
2. 文档打包：
   - 项目说明文档
   - 功能截图集合
   - 提示词使用报告
3. 压缩格式：
   - 使用rar格式压缩
   - 文件命名：RBAC-Frontend-v1.0.0.rar

**交付清单：**
1. 源代码压缩包 (rar格式)
2. 功能页面截图 (7-10张)
3. 项目说明文档
4. 主要提示词记录
5. 部署和使用指南

请确保所有交付内容完整且质量良好。
```

#### 成果检查提示词
```
请检查第10轮项目打包和交付准备的最终成果：

**构建产物验证：**
1. 验证生产构建是否成功完成
2. 检查构建产物的完整性和正确性
3. 测试构建后的应用是否正常运行
4. 确认代码压缩和优化效果

**文档完整性检查：**
1. 验证README.md的内容完整性和准确性
2. 检查部署指南的步骤清晰性
3. 确认开发指南的实用性
4. 验证所有文档的格式和排版

**截图质量检查：**
1. 确认所有功能页面都有对应截图
2. 验证截图的清晰度和完整性
3. 检查截图是否展示了关键功能
4. 确认移动端适配效果的展示

**提示词记录检查：**
1. 验证提示词记录的完整性
2. 检查提示词的分类和整理
3. 确认关键开发经验的记录
4. 验证提示词的实用性和可复用性

**最终交付验证：**
1. 确认源代码压缩包的完整性
2. 验证所有交付文件的质量
3. 检查文件命名和组织结构
4. 确认满足任务要求的所有条件

**项目完成度评估：**
1. 功能完整性：所有要求功能都已实现
2. 技术质量：代码质量和架构设计良好
3. 用户体验：界面友好，操作流畅
4. 文档质量：文档完整，说明清晰
5. 交付标准：满足所有交付要求

**最终确认清单：**
- [ ] 18个API接口全部正确对接
- [ ] 5大功能模块全部完成开发
- [ ] 响应式设计在各设备正常显示
- [ ] 完整的用户操作流程无障碍
- [ ] 源代码压缩包格式正确 (rar)
- [ ] 功能截图清晰完整 (7-10张)
- [ ] 项目文档详细准确
- [ ] 主要提示词记录完整

如所有检查项都通过，则项目开发任务圆满完成，可以正式交付。
```

---

**提示词方案制定时间**：2025-07-22
**总轮次**：10轮
**预计总工期**：2-3天
**方案制定人**：RBAC Frontend Development Team
